# Reno ë´‡ í—¬í”„ ë©”ì‹œì§€ DB ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„

**ë‚ ì§œ**: 2026. 01. 25.
**í”„ë¡œì íŠ¸**: WBSalesHub
**ì‘ì—…ì**: Claude Sonnet 4.5 + Peter

---

## ğŸ“‹ ì‘ì—… ê°œìš”

Reno Slack ë´‡ì˜ í—¬í”„ ë©”ì‹œì§€ë¥¼ DBì— ì €ì¥í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

### ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­
1. **ë‘ ê°€ì§€ ë©”ì‹œì§€ë¡œ ë¶„ë¥˜**
   - ëŒ€í™”í˜• ê¸°ëŠ¥: ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´, AI Tool Use
   - ìë™í™” ê¸°ëŠ¥: í¬ë¡  ìŠ¤ì¼€ì¤„ëŸ¬ ì‘ì—…
2. **DB í…Œì´ë¸”ì— ì €ì¥**
   - ì½”ë“œ ë°°í¬ ì—†ì´ ë©”ì‹œì§€ ìˆ˜ì • ê°€ëŠ¥
   - ê´€ë¦¬ìê°€ APIë¡œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥
3. **ìì—°ì–´ íŠ¸ë¦¬ê±° ì§€ì›**
   - "ë­˜ í•  ìˆ˜ ìˆì–´?", "ê¸°ëŠ¥", "help", "ë„ì›€ë§" ë“±

---

## âœ… êµ¬í˜„ ì™„ë£Œ ë‚´ì—­

### 1. DB ìŠ¤í‚¤ë§ˆ (Migration 016)

**íŒŒì¼**: `server/database/migrations/016_add_bot_help_messages.sql`

**í…Œì´ë¸” êµ¬ì¡°**:
```sql
CREATE TABLE bot_help_messages (
  id SERIAL PRIMARY KEY,
  message_type VARCHAR(50) NOT NULL,  -- 'interactive' | 'automated'
  title TEXT NOT NULL,
  content JSONB NOT NULL,             -- Slack Block êµ¬ì¡°
  plain_text TEXT,                    -- í”Œë ˆì¸ í…ìŠ¤íŠ¸ fallback
  enabled BOOLEAN DEFAULT true,
  display_order INTEGER DEFAULT 0,
  version INTEGER DEFAULT 1,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_by VARCHAR(255)
);
```

**ì´ˆê¸° ë°ì´í„°**:
- ë©”ì‹œì§€ 1 (interactive): ëŒ€í™”í˜• ê¸°ëŠ¥ ì•ˆë‚´
- ë©”ì‹œì§€ 2 (automated): ìë™í™” ê¸°ëŠ¥ ì•ˆë‚´

### 2. ì„œë¹„ìŠ¤ ë ˆì´ì–´

**íŒŒì¼**: `server/services/botHelpMessageService.ts`

**ì£¼ìš” í•¨ìˆ˜**:
- `getEnabledHelpMessages()`: í™œì„±í™”ëœ ë©”ì‹œì§€ ì¡°íšŒ
- `getHelpMessageByType()`: íƒ€ì…ë³„ ë©”ì‹œì§€ ì¡°íšŒ
- `updateHelpMessage()`: ê´€ë¦¬ììš© ë©”ì‹œì§€ ì—…ë°ì´íŠ¸

### 3. API ì—”ë“œí¬ì¸íŠ¸

**íŒŒì¼**: `server/routes/botHelpMessageRoutes.ts`

**ì—”ë“œí¬ì¸íŠ¸**:
- `GET /api/bot-help-messages`: ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ
- `PUT /api/bot-help-messages/:id`: ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ (ê´€ë¦¬ì ì „ìš©)

### 4. Slack í†µí•©

**íŒŒì¼**: `server/modules/integrations/slack/renoSlackApp.ts`

**ê°œì„  ì‚¬í•­**:
1. `/reno-help` ëª…ë ¹ì–´: DBì—ì„œ ë©”ì‹œì§€ ë¡œë“œ
2. ìì—°ì–´ íŠ¸ë¦¬ê±°: `@Reno ë­˜ í•  ìˆ˜ ìˆì–´?` ê°ì§€

**ìì—°ì–´ í‚¤ì›Œë“œ**:
```typescript
const helpKeywords = ['ë­˜ í•  ìˆ˜ ìˆ', 'ê¸°ëŠ¥', 'help', 'ë„ì›€ë§', 'ì‚¬ìš©ë²•'];
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ë¡œì»¬ DB ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
PGPASSWORD=workhub psql -h localhost -p 5433 -U workhub -d saleshub \
  < server/database/migrations/016_add_bot_help_messages.sql
```

**ê²°ê³¼**:
```
CREATE TABLE
CREATE INDEX (3ê°œ)
COMMENT (3ê°œ)
INSERT 0 1
INSERT 0 1
```

### ë°ì´í„° ê²€ì¦

```sql
SELECT id, message_type, title, enabled, display_order
FROM bot_help_messages
ORDER BY display_order;
```

**ê²°ê³¼**:
| id | message_type | title | enabled | display_order |
|----|--------------|-------|---------|---------------|
| 1 | interactive | ğŸ¤– ë ˆë…¸ê°€ ë„ì™€ë“œë¦´ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ (ëŒ€í™”í˜•) | t | 1 |
| 2 | automated | â° ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê¸°ëŠ¥ | t | 2 |

---

## ğŸ“¦ Git ì»¤ë°‹

**Commit**: `818258e`

```
feat: Add bot help message management with DB storage

- Add bot_help_messages table to store Slack help messages
- Implement botHelpMessageService for CRUD operations
- Add /api/bot-help-messages API endpoint
- Update /reno-help command to load messages from DB
- Add natural language help triggers (@Reno ë­˜ í•  ìˆ˜ ìˆì–´?)
- Support two message types: interactive and automated features

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

**ë³€ê²½ëœ íŒŒì¼**:
- `server/database/migrations/016_add_bot_help_messages.sql` (ì‹ ê·œ)
- `server/services/botHelpMessageService.ts` (ì‹ ê·œ)
- `server/routes/botHelpMessageRoutes.ts` (ì‹ ê·œ)
- `server/modules/integrations/slack/renoSlackApp.ts` (ìˆ˜ì •)
- `server/index.ts` (ìˆ˜ì • - ë¼ìš°íŠ¸ ë“±ë¡)

---

## ğŸ“Š ì‘ì—…ëŸ‰

**ì´ ì‘ì—…ëŸ‰**: 0.5ì¼ (4 WU)

| ë‹¨ê³„ | ì‘ì—… | ì‹œê°„ (WU) |
|------|------|----------|
| 1 | DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì„± ë° ì‹¤í–‰ | 0.5 |
| 2 | ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„ | 1 |
| 3 | API ë¼ìš°íŠ¸ êµ¬í˜„ | 0.5 |
| 4 | Slack í•¸ë“¤ëŸ¬ ìˆ˜ì • | 1.5 |
| 5 | í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ | 0.5 |

**1 WU = ì´ˆê¸‰ ê°œë°œì 1ì‹œê°„ ì‘ì—…ëŸ‰**

---

## ğŸ¯ ì‚¬ìš© ë°©ë²•

### Slackì—ì„œ ì‚¬ìš©

**ë°©ë²• 1: ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´**
```
/reno-help
```

**ë°©ë²• 2: ìì—°ì–´ ë©˜ì…˜**
```
@Reno ë­˜ í•  ìˆ˜ ìˆì–´?
@Reno ê¸°ëŠ¥ ì†Œê°œí•´ì¤˜
@Reno help
```

**ì‘ë‹µ**: 2ê°œ ë©”ì‹œì§€ ìˆœì°¨ ìˆ˜ì‹ 
1. ëŒ€í™”í˜• ê¸°ëŠ¥ ì•ˆë‚´ (ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ + AI ëŒ€í™”)
2. ìë™í™” ê¸°ëŠ¥ ì•ˆë‚´ (í¬ë¡  ì‘ì—…)

### APIë¡œ ë©”ì‹œì§€ ê´€ë¦¬

**ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ**:
```bash
curl http://localhost:4010/api/bot-help-messages
```

**ë©”ì‹œì§€ ì—…ë°ì´íŠ¸** (ê´€ë¦¬ì ì „ìš©):
```bash
curl -X PUT http://localhost:4010/api/bot-help-messages/1 \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ìˆ˜ì •ëœ ì œëª©",
    "enabled": true
  }'
```

---

## ğŸš€ ìì—°ì–´ íŠ¸ë¦¬ê±° ê³ ë„í™” ë¡œë“œë§µ (Phase 2)

### í˜„ì¬ ë°©ì‹ì˜ í•œê³„
- **í‚¤ì›Œë“œ ë§¤ì¹­**: ë‹¨ìˆœ ë¬¸ìì—´ í¬í•¨ ê²€ì‚¬
- **ì»¨í…ìŠ¤íŠ¸ ë¶€ì¡±**: "ë ˆë…¸ ì§€ë‚œì£¼ì— ê³ ê° ë¬¸ì˜ ìˆì—ˆì–´?" â†’ ì˜ë„ íŒŒì•… ì‹¤íŒ¨
- **íŒŒë¼ë¯¸í„° ì¶”ì¶œ ë¶ˆê°€**: "ê³ ê° ABC123 ì •ë³´ ë³´ì—¬ì¤˜" â†’ ê³ ê° ID ìë™ ì¶”ì¶œ ë¶ˆê°€

### ëª©í‘œ: ì™„ì „í•œ ìì—°ì–´ ì¸í„°í˜ì´ìŠ¤
ëª¨ë“  ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ë¥¼ ìì—°ì–´ë¡œ ëŒ€ì²´:
```
ê¸°ì¡´: /reno-customer ABC123
ëª©í‘œ: "ABC123 ê³ ê° ì •ë³´ ë³´ì—¬ì¤˜"
```

### ê°œì„  ê¸°ìˆ  (ì›¹ ê²€ìƒ‰ ê²°ê³¼)

#### 1. Intent Classification (LLM ê¸°ë°˜)
**ì¶œì²˜**: [Building a ChatOps AI Bot with LangChain and LLMs in Slack](https://opsinsights.dev/building-a-chatops-ai-bot-with-langchain-and-llms-in-slack)

- LLMì´ ìì—°ì–´ë¥¼ êµ¬ì¡°í™”ëœ JSONìœ¼ë¡œ ë³€í™˜
- Intent classifierê°€ ìœ íš¨í•œ ëª…ë ¹ë§Œ ì‹¤í–‰ (í™˜ê° ë°©ì§€)
- ì‹ ë¢°ë„(confidence) ê¸°ë°˜ ì—ëŸ¬ í•¸ë“¤ë§

#### 2. Claude Advanced Tool Use
**ì¶œì²˜**: [Anthropic - Advanced Tool Use](https://www.anthropic.com/engineering/advanced-tool-use)

- **Programmatic Tool Calling**: Claudeê°€ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ì—¬ëŸ¬ ë„êµ¬ë¥¼ ìˆœì°¨ ì‹¤í–‰
- **Tool Search Tool**: í•„ìš”í•œ ë„êµ¬ë§Œ ë™ì ìœ¼ë¡œ ë°œê²¬ (MCP ì„œë²„ì²˜ëŸ¼)

#### 3. Named Entity Recognition (NER)
**ì¶œì²˜**: [Named Entity Recognition with LLMs](https://medium.com/@grisanti.isidoro/named-entity-recognition-with-llms-extract-conversation-metadata-94d5536178f2)

- ìì—°ì–´ ì§€ì‹œë¬¸ìœ¼ë¡œ ì„ì˜ì˜ ì—”í‹°í‹° ì¶”ì¶œ
- ë„ë©”ì¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‰¬ì›€
- [chatbot_ner ë¼ì´ë¸ŒëŸ¬ë¦¬](https://github.com/hellohaptik/chatbot_ner) í™œìš©

#### 4. Multi-turn Context Retention
**ì¶œì²˜**: [Claude Advanced Guide](https://www.graphapp.ai/blog/claude-advanced-guide-mastering-the-ai-language-model)

- ì´ì „ ëŒ€í™” ì´ë ¥ì„ ê³„ì† ì „ë‹¬
- ì‚¬ìš©ìê°€ "ê·¸ ê³ ê°"ì´ë¼ê³  í•´ë„ ABC123 ìë™ ì¸ì‹

#### 5. Golden Conversations
**ì¶œì²˜**: [Prototyping Conversational AI Flows](https://www.chatprd.ai/how-i-ai/workflows/how-to-prototype-conversational-ai-flows-using-claude-s-golden-conversations)

- ì´ìƒì ì¸ ëŒ€í™” ìƒ˜í”Œ ì‘ì„±
- Claudeì—ê²Œ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìƒì„± ìš”ì²­
- ì¦‰ì‹œ í”„ë¡œí† íƒ€ì… í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### êµ¬í˜„ ë¡œë“œë§µ

**Short-term (1-2ì£¼)**:
- [ ] Intent Classifier êµ¬ì¶• (LLM ê¸°ë°˜)
- [ ] 5ê°œ í•µì‹¬ Intent ì •ì˜ ë° í…ŒìŠ¤íŠ¸
- [ ] ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ì™€ ìì—°ì–´ ë³‘í–‰ ì§€ì›

**Mid-term (1-2ê°œì›”)**:
- [ ] NER ì—”í‹°í‹° ì¶”ì¶œ ë„ì…
- [ ] Multi-turn Context ê´€ë¦¬
- [ ] Golden Conversation ìƒ˜í”Œ 100ê°œ ì‘ì„±
- [ ] A/B í…ŒìŠ¤íŠ¸ (ìŠ¬ë˜ì‹œ vs ìì—°ì–´ ì‚¬ìš©ë¥ )

**Long-term (3-6ê°œì›”)**:
- [ ] ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ ì™„ì „ ì œê±°
- [ ] Programmatic Tool Calling ì ìš©
- [ ] í”¼ë“œë°± ë£¨í”„ë¡œ Intent ì •í™•ë„ ê°œì„ 
- [ ] MCP ì„œë²„ íŒ¨í„´ìœ¼ë¡œ ì•„í‚¤í…ì²˜ ì „í™˜

---

## ğŸ“Œ ì£¼ìš” í¬ì¸íŠ¸

1. **DB ê¸°ë°˜ ê´€ë¦¬** - ì½”ë“œ ë°°í¬ ì—†ì´ ë©”ì‹œì§€ ìˆ˜ì • ê°€ëŠ¥
2. **ë‘ ë©”ì‹œì§€ ë¶„ë¦¬** - ëŒ€í™”í˜• vs ìë™í™” ê¸°ëŠ¥ ëª…í™•íˆ êµ¬ë¶„
3. **ìì—°ì–´ íŠ¸ë¦¬ê±°** - í‚¤ì›Œë“œ ê¸°ë°˜ ìë™ ê°ì§€
4. **Slack Block Kit** - í’ë¶€í•œ UIë¡œ ë³´ê¸° ì¢‹ì€ ë©”ì‹œì§€
5. **ë²„ì „ ê´€ë¦¬** - ë©”ì‹œì§€ ë³€ê²½ ì´ë ¥ ì¶”ì  ê°€ëŠ¥
6. **ê´€ë¦¬ì API** - ë‚˜ì¤‘ì— ì›¹ UI ì¶”ê°€ ê°€ëŠ¥

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **ë°±ì—”ë“œ**: TypeScript, Express, PostgreSQL
- **Slack**: @slack/bolt
- **DB**: PostgreSQL (JSONB for Slack Blocks)
- **API**: RESTful API

---

## ğŸ“– ì°¸ê³  ìë£Œ

### Intent Classification
- [Building a ChatOps AI Bot with LangChain and LLMs in Slack](https://opsinsights.dev/building-a-chatops-ai-bot-with-langchain-and-llms-in-slack)
- [In-Depth Guide Into Chatbots Intent Recognition in 2026](https://research.aimultiple.com/chatbot-intent/)

### Claude Advanced Features
- [Introducing advanced tool use on the Claude Developer Console](https://www.anthropic.com/engineering/advanced-tool-use)
- [How Claude Code Is Transforming AI Coding in 2026](https://apidog.com/blog/claude-code-coding/)

### Entity Extraction (NER)
- [Named Entity Recognition with LLMs](https://medium.com/@grisanti.isidoro/named-entity-recognition-with-llms-extract-conversation-metadata-94d5536178f2)
- [GitHub - chatbot_ner](https://github.com/hellohaptik/chatbot_ner)

### Conversation Design
- [How to Prototype Conversational AI Flows Using Claude's Golden Conversations](https://www.chatprd.ai/how-i-ai/workflows/how-to-prototype-conversational-ai-flows-using-claude-s-golden-conversations)

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **ìŠ¤í…Œì´ì§• í™˜ê²½ ë°°í¬**
   - Oracle ìŠ¤í…Œì´ì§• ì„œë²„ì— ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
   - Docker ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
   - Slack ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì‹¤ì œ í…ŒìŠ¤íŠ¸

2. **Phase 2 êµ¬í˜„ ê²€í† **
   - Intent Classification í”„ë¡œí† íƒ€ì…
   - NER ë¼ì´ë¸ŒëŸ¬ë¦¬ í‰ê°€
   - Golden Conversation ìƒ˜í”Œ ì‘ì„±

3. **ê´€ë¦¬ì UI ì¶”ê°€ (ì„ íƒ)**
   - ì›¹ UIë¡œ ë©”ì‹œì§€ í¸ì§‘
   - Slack Block Kit Builder í†µí•©
   - ë²„ì „ ì´ë ¥ ì¡°íšŒ ê¸°ëŠ¥

---

**ì‘ì—… ì™„ë£Œ ì‹œê°„**: 2026. 01. 25. 17:30 KST
