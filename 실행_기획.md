# Rule: Generating a Product Requirements Document (PRD)

## Goal

To guide an AI assistant in creating a detailed Product Requirements Document (PRD) in Markdown format, based on an initial user prompt. The PRD should be clear, actionable, and suitable for a junior developer to understand and implement the feature.

## Process

1.  **Receive Initial Prompt:** The user provides a brief description or request for a new feature or functionality.
2.  **Ask Clarifying Questions:** Before writing the PRD, the AI *must* ask clarifying questions needed to write a clear PRD. Aim for 8-12 questions covering critical gaps in understanding. The goal is to understand the "what" and "why" of the feature, not necessarily the "how" (which the developer will figure out). Use the AskUserQuestion tool to present questions in an interactive format (split into multiple rounds of 4 questions each if needed).
3.  **Generate PRD:** Based on the initial prompt and the user's answers to the clarifying questions, generate a PRD using the structure outlined below.
4.  **Save PRD:** Save the generated document as `prd-[feature-name].md` inside the `/기능 PRD/` directory.

## Clarifying Questions (Guidelines)

Ask only the most critical questions needed to write a clear PRD. Focus on areas where the initial prompt is ambiguous or missing essential context. Common areas that may need clarification:

*   **Problem/Goal:** If unclear - "What problem does this feature solve for the user?"
*   **Core Functionality:** If vague - "What are the key actions a user should be able to perform?"
*   **Scope/Boundaries:** If broad - "Are there any specific things this feature *should not* do?"
*   **Success Criteria:** If unstated - "How will we know when this feature is successfully implemented?"

**Important:** Only ask questions when the answer isn't reasonably inferable from the initial prompt. Prioritize questions that would significantly impact the PRD's clarity.

### Question Format Options

#### Option 1: AskUserQuestion Tool (Recommended for Claude Code)
Use the `AskUserQuestion` tool to present questions as interactive popups in the Claude Code interface:

**장점:**
- 사용자 친화적인 UI (버튼 클릭으로 응답)
- 명확한 선택지 제시
- 다중 선택 가능 (multiSelect 옵션)
- 응답 자동 수집

**사용 방법:**
```typescript
AskUserQuestion({
  questions: [
    {
      question: "What is the primary goal of this feature?",
      header: "Goal",  // 최대 12자
      multiSelect: false,
      options: [
        { label: "Onboarding", description: "Improve user onboarding experience" },
        { label: "Retention", description: "Increase user retention" },
        { label: "Support", description: "Reduce support burden" },
        { label: "Revenue", description: "Generate additional revenue" }
      ]
    }
  ]
})
```

**제약사항:**
- 한 번에 1-4개 질문까지
- 각 질문당 2-4개 옵션
- header는 최대 12자
- "Other" 옵션은 자동 추가됨 (명시하지 말 것)

#### Option 2: Text-Based Questions (Legacy)
텍스트로 질문을 나열하는 기존 방식:

**Formatting Requirements:**
- **Number all questions** (1, 2, 3, etc.)
- **List options for each question as A, B, C, D, etc.** for easy reference
- Make it simple for the user to respond with selections like "1A, 2C, 3B"

**Example Format:**
```
1. What is the primary goal of this feature?
   A. Improve user onboarding experience
   B. Increase user retention
   C. Reduce support burden
   D. Generate additional revenue

2. Who is the target user for this feature?
   A. New users only
   B. Existing users only
   C. All users
   D. Admin users only
```

### Recommendation
**Claude Code 환경에서는 Option 1 (AskUserQuestion 툴)을 우선 사용**하세요. 단, 5개 이상의 질문이 필요하거나 복잡한 설명이 필요한 경우 Option 2를 사용할 수 있습니다.

---

### Question Templates by Category

Use these templates to structure your clarifying questions effectively.

#### Template 1: Goal & Problem (목표 및 문제 정의)

```typescript
AskUserQuestion({
  questions: [
    {
      question: "이 기능의 주요 목표는 무엇인가요?",
      header: "Goal",
      multiSelect: false,
      options: [
        { label: "온보딩 개선", description: "신규 사용자 경험 향상" },
        { label: "유지율 증가", description: "기존 사용자 이탈 방지" },
        { label: "지원 부담 감소", description: "고객 문의 자동화" },
        { label: "매출 증대", description: "유료 기능 추가" }
      ]
    },
    {
      question: "해결하려는 가장 큰 문제는 무엇인가요?",
      header: "Problem",
      multiSelect: false,
      options: [
        { label: "성능 저하", description: "응답 시간이 느림" },
        { label: "보안 취약점", description: "인증/권한 문제" },
        { label: "사용성 문제", description: "UI/UX 개선 필요" },
        { label: "기술 부채", description: "레거시 코드 개선" }
      ]
    }
  ]
})
```

#### Template 2: Scope & Boundaries (범위 및 경계)

```typescript
AskUserQuestion({
  questions: [
    {
      question: "이 기능이 적용될 허브를 선택하세요.",
      header: "Target Hubs",
      multiSelect: true,  // 다중 선택
      options: [
        { label: "HubManager", description: "SSO 및 허브 관리" },
        { label: "SalesHub", description: "고객 및 미팅 관리" },
        { label: "FinHub", description: "재무 및 트랜잭션" },
        { label: "OnboardingHub", description: "신규 사용자 온보딩" }
      ]
    },
    {
      question: "이 기능에 포함하지 않을 것은 무엇인가요?",
      header: "Out of Scope",
      multiSelect: true,
      options: [
        { label: "모바일 앱", description: "웹 브라우저만 지원" },
        { label: "오프라인 모드", description: "온라인 전용" },
        { label: "다국어 지원", description: "한국어만 우선" },
        { label: "데이터 마이그레이션", description: "신규 기능만" }
      ]
    }
  ]
})
```

#### Template 3: Technical Approach (기술 접근)

```typescript
AskUserQuestion({
  questions: [
    {
      question: "이 기능은 어떤 환경에서 먼저 배포되나요?",
      header: "Environment",
      multiSelect: false,
      options: [
        { label: "로컬 개발만", description: "로컬 테스트 후 결정" },
        { label: "스테이징 우선", description: "Docker 4400 포트" },
        { label: "프로덕션 직행", description: "오라클 클라우드 즉시" }
      ]
    },
    {
      question: "기존 시스템과의 호환성을 어떻게 처리하나요?",
      header: "Compatibility",
      multiSelect: false,
      options: [
        { label: "Breaking Change", description: "기존 API 변경 허용" },
        { label: "Backward Compatible", description: "기존 코드 유지" },
        { label: "Deprecation", description: "단계적 제거 계획" }
      ]
    }
  ]
})
```

#### Template 4: WorkHub-Specific Questions (WorkHub 특화 질문)

```typescript
AskUserQuestion({
  questions: [
    {
      question: "이 기능은 허브 간 통신이 필요한가요?",
      header: "Hub Comm",
      multiSelect: false,
      options: [
        { label: "SSO만", description: "HubManager 인증만 사용" },
        { label: "API 호출", description: "허브 간 REST API" },
        { label: "공유 DB", description: "PostgreSQL 테이블 공유" },
        { label: "독립 실행", description: "허브 간 통신 없음 (권장)" }
      ]
    },
    {
      question: "환경변수 관리는 어떻게 하나요?",
      header: "Env Config",
      multiSelect: true,
      options: [
        { label: ".env.local", description: "로컬 개발용" },
        { label: ".env", description: "Docker 스테이징용" },
        { label: ".env.prd", description: "프로덕션 배포용" },
        { label: "Doppler", description: "중앙 환경변수 관리" }
      ]
    }
  ]
})
```

**Usage Note:** Mix and match templates based on the feature requirements. Not all templates are necessary for every PRD.

## PRD Structure

The generated PRD should include the following sections:

1.  **Introduction/Overview:** Briefly describe the feature and the problem it solves. State the goal.
2.  **Goals:** List the specific, measurable objectives for this feature.
3.  **User Stories:** Detail the user narratives describing feature usage and benefits.
4.  **Functional Requirements:** List the specific functionalities the feature must have. Use clear, concise language (e.g., "The system must allow users to upload a profile picture."). Number these requirements.
5.  **Non-Goals (Out of Scope):** Clearly state what this feature will *not* include to manage scope.
6.  **Design Considerations (Optional):** Link to mockups, describe UI/UX requirements, or mention relevant components/styles if applicable.
7.  **Technical Considerations (Optional):** Mention any known technical constraints, dependencies, or suggestions (e.g., "Should integrate with the existing Auth module").
8.  **Non-Functional Requirements (NEW):** Define performance, availability, and scalability requirements with quantifiable metrics.
9.  **Security Requirements (NEW):** Specify authentication, authorization, data protection, and network security measures.
10. **Test Strategy (NEW):** Define unit, integration, and E2E test plans with coverage goals and example test cases.
11. **Implementation Phases (Optional - for large features):** Break down implementation into phases for features with 20+ requirements or 2+ week timeline.
12. **Risk & Mitigation (Optional - for migrations/infrastructure):** Identify risks and define rollback strategies for high-impact changes.
13. **Success Metrics:** How will the success of this feature be measured? (e.g., "Increase user engagement by 10%", "Reduce support tickets related to X").
14. **Open Questions:** List any remaining questions or areas needing further clarification.

### Detailed Section Guidelines

#### 8. Non-Functional Requirements (NFR)

**Purpose:** Define measurable quality attributes beyond functional behavior.

**Template:**
```markdown
## 8. Non-Functional Requirements

### Performance
- API 응답 시간: < 200ms (95 percentile)
- 페이지 로딩 시간: < 1초 (초기 렌더링)
- 데이터베이스 쿼리: < 50ms (평균)

### Availability
- 목표 가동률: 99.9% (연간 8시간 이하 다운타임)
- RTO (Recovery Time Objective): < 15분
- RPO (Recovery Point Objective): < 5분

### Scalability
- 동시 사용자: 최소 1,000명 지원
- 데이터 볼륨: 10만 레코드까지 성능 유지
- 수평 확장: Docker Compose 스케일링 지원
```

**WorkHub Example:**
```markdown
### Performance (WorkHub)
- SSO 리디렉션: < 500ms (OAuth 포함)
- 허브 간 API 호출: < 100ms (내부 네트워크)
- 동시 허브 접속: 5개 허브 동시 운영 지원

### Availability (WorkHub)
- 개별 허브 장애 시 다른 허브 정상 운영 (격리)
- WBHubManager 장애 시 RTO < 10분 (SSO 복구 우선)
```

---

#### 9. Security Requirements

**Purpose:** Explicitly define security measures (separated from Technical Considerations).

**Template:**
```markdown
## 9. Security Requirements

### Authentication & Authorization
- OAuth 2.0 사용 (Google 계정)
- JWT 토큰 유효기간: 24시간
- 리프레시 토큰: 30일
- 권한 검증: 모든 API 엔드포인트에 미들웨어 적용

### Data Protection
- 비밀번호: bcrypt 해싱 (salt rounds: 10)
- 민감 정보: 환경변수(.env) 또는 Doppler 사용
- 데이터베이스: 프로덕션에만 암호화 적용

### Network Security
- HTTPS 사용 (프로덕션 환경)
- CORS: whitelist 기반 허용
- Rate Limiting: API당 100 req/min
```

**WorkHub Security Checklist:**
```markdown
### WorkHub Security Checklist
- [ ] OAuth redirect_uri whitelist 검증 (`ALLOWED_REDIRECT_DOMAINS`)
- [ ] httpOnly 쿠키 사용 (토큰 저장 시)
- [ ] 허브별 권한 분리 (`hub_id` 기반)
- [ ] SSO 토큰 공유 시 JWT 서명 검증
- [ ] 프로덕션 환경에서 dev-login 엔드포인트 비활성화
```

---

#### 10. Test Strategy

**Purpose:** Define testing approach and coverage goals.

**Template:**
```markdown
## 10. Test Strategy

### Unit Tests
- **범위**: 비즈니스 로직, 유틸리티 함수
- **도구**: Jest (Node.js), Vitest (Vite 프로젝트)
- **커버리지 목표**: 80% 이상
- **예시 테스트 케이스**:
  - `validateRedirectUri()` - whitelist 검증
  - `generateJWT()` - 토큰 생성 및 만료 확인

### Integration Tests
- **범위**: API 엔드포인트, 데이터베이스 연동
- **도구**: Supertest, HWTestAgent
- **커버리지 목표**: 주요 API 100%
- **예시 테스트 케이스**:
  - `POST /api/auth/login` - 로그인 성공/실패
  - `GET /api/users/:id` - 권한별 접근 제어

### E2E Tests
- **범위**: 사용자 시나리오 (User Stories 기반)
- **도구**: Playwright (HWTestAgent)
- **커버리지 목표**: 모든 User Story 커버
- **예시 시나리오**:
  - Story 1: Google OAuth 로그인 → FinHub 대시보드 접근
  - Story 2: Admin 사용자 권한 변경 → 변경 사항 반영 확인
```

**WorkHub E2E Scenarios:**
```markdown
### WorkHub E2E Test Scenarios
- **멀티-허브 인증**: HubManager SSO → SalesHub/FinHub 자동 로그인
- **권한 전파**: HubManager에서 권한 변경 → 모든 허브에서 즉시 반영
- **환경 전환**: 로컬(4000번대) → Docker 스테이징(4400) → 프로덕션(4500) 검증
```

---

#### 11. Implementation Phases (Optional)

**When to use:** Features with 20+ Functional Requirements or 2+ week implementation time.

**Template:**
```markdown
## 11. Implementation Phases

### Phase 1: Core Functionality (Week 1)
- FR-1, FR-2, FR-3 구현
- 데이터베이스 스키마 마이그레이션
- 기본 API 엔드포인트 구축

### Phase 2: UI & Integration (Week 2)
- FR-4, FR-5, FR-6 구현
- 프론트엔드 페이지 개발
- 기존 시스템과 통합

### Phase 3: Testing & Optimization (Week 3)
- 단위/통합/E2E 테스트 작성
- 성능 최적화
- 보안 검증

### Phase 4: Deployment (Week 4)
- 스테이징 배포 및 테스트
- 프로덕션 배포
- 모니터링 설정
```

---

#### 12. Risk & Mitigation (Optional)

**When to use:** Migrations, infrastructure changes, or architectural changes.

**Template:**
```markdown
## 12. Risk & Mitigation

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| 데이터베이스 마이그레이션 실패 | High | Low | 백업 + 롤백 스크립트 준비 |
| OAuth 토큰 만료로 세션 끊김 | Medium | Medium | 리프레시 토큰 자동 갱신 |
| 허브 간 네트워크 장애 | High | Low | Circuit Breaker 패턴 적용 |

### Rollback Strategy
- **조건**: 프로덕션 배포 후 30분 내 에러율 > 5%
- **절차**:
  1. `./scripts/rollback-production.sh` 실행
  2. 이전 버전 이미지로 자동 복원
  3. 데이터베이스 롤백 (필요 시 수동)
```

---

## Target Audience

Assume the primary reader of the PRD is a **junior developer**. Therefore, requirements should be explicit, unambiguous, and avoid jargon where possible. Provide enough detail for them to understand the feature's purpose and core logic.

## Output

*   **Format:** Markdown (`.md`)
*   **Location:** `/기능 PRD/`
*   **Filename:** `prd-[feature-name].md`

## Final instructions

1. Do NOT start implementing the PRD
2. Make sure to ask the user clarifying questions
3. Take the user's answers to the clarifying questions and improve the PRD

---

# Appendix: WorkHub Project Guidelines

This appendix provides WorkHub-specific guidelines for PRD authors to ensure consistency across all hubs and proper handling of multi-hub architecture, security, and deployment concerns.

## A. 환경별 구성 체크리스트

### 로컬 개발 환경
- [ ] `.env.local` 파일 생성 (`.env.template` 복사)
- [ ] 포트: 프론트엔드 3000번대, 백엔드 4000번대 (허브별 개별)
- [ ] 데이터베이스: Docker PostgreSQL (`localhost:5432`)
- [ ] dev-login 엔드포인트 활성화
- [ ] `npm run dev` 사용

### Docker 스테이징 환경
- [ ] `.env` 파일 생성 (Doppler Development 환경 동기화)
- [ ] `DOCKER_PORT=4400` 설정
- [ ] `NODE_ENV=production` (프로덕션 모드)
- [ ] Google OAuth만 사용 (dev-login 비활성화)
- [ ] Nginx 리버스 프록시: `http://localhost:4400/[hub-name]`
- [ ] `docker-compose -f docker-compose.dev.yml up` 사용

### 프로덕션 환경
- [ ] `.env.prd` 파일 생성 (Doppler Production 환경 동기화)
- [ ] `DOCKER_PORT=4500` 설정
- [ ] `NODE_ENV=production`
- [ ] Google OAuth만 사용
- [ ] Nginx 리버스 프록시: `http://workhub.biz/[hub-name]`
- [ ] 오라클 클라우드: `./scripts/deploy-production.sh` 사용

---

## B. 허브 간 통신 가이드

### SSO (Single Sign-On)
- **중앙 인증**: WBHubManager가 OAuth 처리
- **토큰 전달**: JWT 토큰을 쿠키 또는 쿼리 파라미터로 전달
- **redirect_uri 검증**: `ALLOWED_REDIRECT_DOMAINS` 환경변수 사용
- **예시**:
  ```
  HubManager: http://workhub.biz/auth/google/callback?redirect_uri=http://workhub.biz/finhub
  FinHub: 토큰 수신 → 검증 → 대시보드 리디렉션
  ```

### 허브 간 API 호출 (최소화 권장)
- **원칙**: 각 허브는 독립적으로 운영 (Microservice 아키텍처)
- **예외**: 사용자 권한 조회, 공통 마스터 데이터 조회 시에만 사용
- **방법**: REST API (`http://localhost:4090/api/...` 등)
- **인증**: JWT 토큰을 `Authorization: Bearer` 헤더로 전달

### 데이터베이스 공유
- **원칙**: 각 허브는 독립된 PostgreSQL 스키마 사용
- **예외**: `users`, `hub_roles` 등 공통 테이블은 WBHubManager에서 관리
- **접근**: Prisma Client를 통해 다른 허브의 DB 스키마 참조 가능

---

## C. 보안 체크리스트

### OAuth & SSO
- [ ] `redirect_uri` whitelist 검증 (`ALLOWED_REDIRECT_DOMAINS`)
- [ ] 상태 토큰(state) 검증으로 CSRF 방지
- [ ] JWT 토큰 서명 검증 (`JWT_SECRET`)
- [ ] 토큰 만료 시간 설정 (24시간 + 30일 리프레시)

### 쿠키 보안
- [ ] `httpOnly: true` (XSS 방지)
- [ ] `secure: true` (프로덕션 환경, HTTPS만)
- [ ] `sameSite: 'lax'` (CSRF 방지)
- [ ] 쿠키 도메인: `.workhub.biz` (서브도메인 공유)

### API 보안
- [ ] 모든 엔드포인트에 인증 미들웨어 적용
- [ ] 권한 검증: 역할 기반(RBAC) 또는 허브별 권한
- [ ] Rate Limiting: 100 req/min (IP별)
- [ ] CORS: whitelist 기반 허용

### 환경변수
- [ ] 민감 정보는 `.env.local`, `.env`, `.env.prd`에만 저장
- [ ] `.env` 파일들은 `.gitignore`에 포함
- [ ] `.env.template` 파일로 구조 공유 (값은 제외)
- [ ] Doppler 동기화: `push-all-to-doppler.sh` 스크립트 사용

---

## D. 배포 전 검증 체크리스트

### 코드 검증
- [ ] ESLint 검사 통과 (`npm run lint`)
- [ ] TypeScript 타입 검사 통과 (`tsc --noEmit`)
- [ ] 단위 테스트 통과 (`npm run test`)
- [ ] 통합 테스트 통과 (HWTestAgent)

### 환경 검증
- [ ] `.env.prd` 파일 모든 필수 환경변수 설정
- [ ] 데이터베이스 마이그레이션 스크립트 준비
- [ ] Doppler 동기화 완료

### Docker 검증
- [ ] 로컬 Docker 빌드 성공 (`docker-compose up`)
- [ ] 스테이징 환경(4400) 정상 작동
- [ ] 이미지 크기 확인 (< 500MB 권장)

### 프로덕션 배포
- [ ] 오라클 서버 SSH 접속: `ssh oracle-cloud`
- [ ] 스테이징 배포: `./scripts/deploy-staging.sh`
- [ ] 스테이징 테스트: E2E 시나리오 수동 검증
- [ ] 프로덕션 승격: `./scripts/promote-production.sh`
- [ ] 모니터링: 배포 후 30분간 에러 로그 확인

---

## E. PRD 작성 시 자주 묻는 질문 (FAQ)

### Q1. 이 기능이 여러 허브에 적용되는 경우 PRD를 어떻게 작성하나요?
**A**: 하나의 PRD로 작성하되, Functional Requirements를 허브별로 구분하세요.

예시:
```markdown
## 4. Functional Requirements

### FR-1: 공통 기능 (모든 허브)
- FR-1.1: JWT 토큰 검증 미들웨어
- FR-1.2: httpOnly 쿠키 설정

### FR-2: HubManager 전용
- FR-2.1: OAuth 콜백 엔드포인트

### FR-3: SalesHub 전용
- FR-3.1: 고객 목록 권한 필터링
```

### Q2. NFR(비기능 요구사항)을 어느 수준까지 정의해야 하나요?
**A**: 다음 3가지 카테고리에서 **정량적 목표**를 1개 이상 정의하세요.
- Performance: 응답 시간, 처리량
- Availability: 가동률, RTO/RPO
- Scalability: 동시 사용자 수

예시:
```markdown
- Performance: API 응답 < 200ms (95 percentile)
- Availability: 99.9% uptime (월 43분 이하 다운타임)
- Scalability: 동시 사용자 1,000명 지원
```

### Q3. 테스트 전략을 어떻게 작성하나요?
**A**: User Stories를 기반으로 E2E 시나리오를 작성하세요.

예시:
```markdown
## 10. Test Strategy

### E2E Tests
- **Story 1 검증**: Google OAuth 로그인 → FinHub 대시보드 접근
  - 테스트 파일: `HWTestAgent/tests/e2e-finhub-sso.spec.ts`
  - 도구: Playwright
  - 검증: 로그인 후 `/finhub/dashboard` URL 확인
```

### Q4. 마이그레이션 작업의 경우 PRD 형식이 맞나요?
**A**: 마이그레이션도 PRD 형식으로 작성하되, **Risk & Mitigation** 섹션을 추가하세요.

예시:
```markdown
## 12. Risk & Mitigation

| Risk | Impact | Mitigation |
|------|--------|------------|
| 데이터 손실 | High | 백업 + 롤백 스크립트 준비 |
| 호환성 문제 | Medium | Deprecation 경고 3주 전 공지 |
```

### Q5. Design Considerations에 무엇을 포함해야 하나요?
**A**: UI/UX 관련 요구사항을 구체적으로 작성하세요.

예시:
```markdown
## 6. Design Considerations

### UI Components
- 아이콘: `lucide-react` 라이브러리 사용
- 버튼: Tailwind `bg-blue-600 hover:bg-blue-700` 스타일
- 테이블: `@tanstack/react-table` 사용

### Responsive Design
- 모바일: 768px 이하 → 단일 컬럼 레이아웃
- 데스크톱: 768px 이상 → 2컬럼 레이아웃
```

### Q6. 환경별 설정이 다른 경우 어떻게 명시하나요?
**A**: Technical Considerations 또는 별도 섹션에서 환경별로 구분하여 작성하세요.

예시:
```markdown
## 7. Technical Considerations

### 환경별 설정

| 설정 항목 | 로컬 개발 | Docker 스테이징 | 프로덕션 |
|----------|----------|----------------|---------|
| 포트 | 4000번대 (개별) | 4400 (통합) | 4500 (통합) |
| OAuth | dev-login 사용 가능 | Google OAuth만 | Google OAuth만 |
| 데이터베이스 | localhost:5432 | localhost:5432 | 오라클 클라우드 |
| 로그 레벨 | DEBUG | INFO | WARN |
```

---

## F. 모범 사례 PRD 참고

새로운 PRD 작성 시 다음 문서들을 참고하세요:

1. **기본 기능 추가**: [`prd-hub-sso-redirect-improvement.md`](/home/peterchung/WHCommon/기능 PRD/prd-hub-sso-redirect-improvement.md)
   - 표준 PRD 구조의 모범 사례
   - 명확한 User Stories와 Functional Requirements
   - 보안 고려사항 상세 명시

2. **대규모 기능**: [`prd-testagent-improvement.md`](/home/peterchung/WHCommon/기능 PRD/prd-testagent-improvement.md)
   - Implementation Phases 사용 예시
   - 카테고리별 FR 구조화
   - 정량적 Success Metrics

3. **아키텍처 변경**: [`prd-unified-permission-control.md`](/home/peterchung/WHCommon/기능 PRD/prd-unified-permission-control.md)
   - 데이터베이스 스키마 상세 정의
   - API 엔드포인트 테이블화
   - 복잡한 도메인 모델 설명

4. **인프라 변경**: [`prd-deployment-environment-change.md`](/home/peterchung/WHCommon/기능 PRD/prd-deployment-environment-change.md)
   - 환경별 구성 상세 정의
   - 비기능 요구사항 명시
   - 배포 절차 포함

---

**Last Updated**: 2026-01-11
